(this["webpackJsonpalz-example"]=this["webpackJsonpalz-example"]||[]).push([[0],{31:function(t,e,i){"use strict";i.r(e);var n=i(1),c=i.n(n),r=i(15),s=i.n(r),o=i(11),d=i(7),a=i(2),h=i(10);function l(t){this.children={},this.value=t}function j(){this.root=new l}j.prototype.nodeAt=function(t){for(var e=this.root,i=0;i<t.length;i+=1)if("undefined"===typeof(e=e.children[t[i]]))return;return e},j.prototype.get=function(t){var e=this.nodeAt(t);if("undefined"!==typeof e)return e.value},j.prototype.addNode=function(t){for(var e,i=this.root,n=0;n<t.length;n+=1)e=t[n],i=i.children[e]||(i.children[e]=new l);return i},j.prototype.add=function(t,e){this.addNode(t).value=e},j.prototype.update=function(t,e){var i=this.addNode(t);i.value=e(i.value)},j.prototype.load=function(t){this.root.children=t.root.children},j.prototype.loadJSON=function(t){var e=JSON.parse(t);this.load(e)};var b=j;function u(){this.trie=new b,this.dictionary={},this.phrase="",this.symbolsWindow="",this.maxLZSize=0,this.symbolsCount=0}u.prototype.add=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t+1}this.symbolsCount+=1,this.phrase+=t,this.dictionary[this.phrase]||(this.dictionary[this.phrase]=1,this.phrase.length>this.maxLZSize&&(this.maxLZSize=this.phrase.length),this.phrase=""),this.symbolsWindow+=t,this.symbolsWindow.length>this.maxLZSize&&(this.symbolsWindow=this.symbolsWindow.substring(1));for(var i=0;i<this.symbolsWindow.length;i+=1)this.trie.update(this.symbolsWindow.substring(i,this.symbolsWindow.length),e)},u.prototype.predict=function(){for(var t=this,e=Object.entries(this.trie.root.children).reduce((function(e,i){return e[i[0]]=i[1].value/t.symbolsCount,e}),{}),i=function(i){var n=t.symbolsWindow.substring(i,t.symbolsWindow.length),c=t.trie.nodeAt(n).children,r=Object.values(c).reduce((function(t,e){return t+e.value}),0),s=t.trie.get(n),o=(s-r)/s;Object.keys(e).forEach((function(t){e[t]*=o})),Object.keys(c).forEach((function(i){e[i]+=c[i].value/t.trie.get(n)}))},n=this.symbolsWindow.length-1;n>0;n-=1)i(n);return e},u.prototype.loadJSON=function(t){var e=JSON.parse(t),i=e.trie,n=e.dictionary,c=e.phrase,r=e.symbolsWindow,s=e.symbolsCount,o=e.maxLZSize;this.trie.load(i),this.dictionary=n,this.phrase=c,this.symbolsWindow=r,this.maxLZSize=o,this.symbolsCount=s};var O=u,x="A",v="B",f="D",p="C",y=function(){var t,e="alz-predictor",i=(t={},Object(h.a)(t,x,"a"),Object(h.a)(t,v,"b"),Object(h.a)(t,f,"d"),Object(h.a)(t,p,"c"),t);var n=new O,c=localStorage.getItem(e);function r(){localStorage.setItem(e,JSON.stringify(n))}return c&&n.loadJSON(c),{add:function(t){n.add(i[t]),r()},get:function(){var t=n.predict(),e=Object.keys(t).sort((function(e,i){return t[i]-t[e]})),c=t[e[0]];return{link:function(t,e){for(var i=0,n=Object.entries(t);i<n.length;i++){var c=Object(o.a)(n[i],2),r=c[0];if(c[1]===e)return r}}(i,e[0]),probability:c,predictions:t}},reset:function(){n=new O,r()}}}(),g=i(0),m=x,w=v,S=p,C=f;function k(t){var e=t.onPredict,i=t.onReset;return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:Object(g.jsx)(d.b,{to:"/a",onClick:function(){return y.add(m)},children:"A"})}),Object(g.jsx)("div",{children:Object(g.jsx)(d.b,{to:"/b",onClick:function(){return y.add(w)},children:"B"})}),Object(g.jsx)("div",{children:Object(g.jsx)(d.b,{to:"/c",onClick:function(){return y.add(S)},children:"C"})}),Object(g.jsx)("div",{children:Object(g.jsx)(d.b,{to:"/d",onClick:function(){return y.add(C)},children:"D"})}),Object(g.jsx)("button",{onClick:e,children:"Predict"}),Object(g.jsx)("button",{onClick:i,children:"Reset"})]})}function W(){return Object(g.jsx)("div",{})}function F(){return Object(g.jsx)("div",{})}function z(){return Object(g.jsx)("div",{})}function N(){return Object(g.jsx)("div",{})}var J=function(){var t=Object(n.useState)(),e=Object(o.a)(t,2),i=(e[0],e[1]);function c(){var t,e=y.get().probability;t="".concat(e),i(t)}Object(n.useEffect)(c,[]);var r=y.get(),s=r.link,h=r.probability,l=r.predictions;return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"alz predictor demo"}),Object(g.jsxs)("h3",{style:{color:"red"},children:["\u6ce8\u610f\u26a0\ufe0f\uff1a",Object(g.jsx)("span",{style:{color:"black"},children:"alz predictor\u5b58\u5728localStorage\u4e2d"})]}),Object(g.jsx)("div",{children:"\u70b9\u51fbABCD\u94fe\u63a5\u63d0\u4f9b\u8bad\u7ec3\u6570\u636e"}),Object(g.jsx)("div",{children:"\u70b9\u51fbPredict\u6309\u94ae\u83b7\u53d6\u9884\u6d4b\u6982\u7387"}),Object(g.jsxs)(d.a,{children:[Object(g.jsx)(k,{onPredict:c,onReset:function(){y.reset(),c()}}),Object(g.jsx)("div",{children:Object(g.jsxs)(a.c,{children:[Object(g.jsx)(a.a,{path:"/b",children:Object(g.jsx)(F,{})}),Object(g.jsx)(a.a,{path:"/c",children:Object(g.jsx)(z,{})}),Object(g.jsx)(a.a,{path:"/d",children:Object(g.jsx)(N,{})}),Object(g.jsx)(a.a,{path:"/a",children:Object(g.jsx)(W,{})})]})})]}),Object(g.jsx)("div",{children:s?Object(g.jsx)("div",{children:h<.7?Object(g.jsxs)("div",{children:["\u9884\u63d0\u53d6",s,"\uff0c\u4f46\u6982\u7387\u5c0f\u4e8e",.7,",  \u5efa\u8bae\u63d0\u4f9b\u66f4\u591a\u8bad\u7ec3\u6570\u636e!",Object(g.jsxs)("div",{children:["\u4e0b\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u662fa\u94fe\u63a5\u7684\u6982\u7387\uff1a",l.a?l.a.toFixed(2):0]}),Object(g.jsxs)("div",{children:["\u4e0b\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u662fb\u94fe\u63a5\u7684\u6982\u7387\uff1a",l.b?l.b.toFixed(2):0]}),Object(g.jsxs)("div",{children:["\u4e0b\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u662fc\u94fe\u63a5\u7684\u6982\u7387\uff1a",l.c?l.c.toFixed(2):0]}),Object(g.jsxs)("div",{children:["\u4e0b\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u662fd\u94fe\u63a5\u7684\u6982\u7387\uff1a",l.d?l.d.toFixed(2):0]})]}):Object(g.jsxs)("div",{children:["\u9884\u63d0\u53d6",s,Object(g.jsxs)("div",{children:["\u4e0b\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u662fa\u94fe\u63a5\u7684\u6982\u7387\uff1a",l.a?l.a.toFixed(2):0]}),Object(g.jsxs)("div",{children:["\u4e0b\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u662fb\u94fe\u63a5\u7684\u6982\u7387\uff1a",l.b?l.b.toFixed(2):0]}),Object(g.jsxs)("div",{children:["\u4e0b\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u662fc\u94fe\u63a5\u7684\u6982\u7387\uff1a",l.c?l.c.toFixed(2):0]}),Object(g.jsxs)("div",{children:["\u4e0b\u4e00\u4e2a\u70b9\u51fb\u4e8b\u4ef6\u662fd\u94fe\u63a5\u7684\u6982\u7387\uff1a",l.d?l.d.toFixed(2):0]})]})}):Object(g.jsx)("div",{children:"\u6ca1\u6709\u8bad\u7ec3\u6570\u636e"})})]})},L=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,32)).then((function(e){var i=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;i(t),n(t),c(t),r(t),s(t)}))};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(J,{})}),document.getElementById("root")),L()}},[[31,1,2]]]);
//# sourceMappingURL=main.2d90a9c9.chunk.js.map